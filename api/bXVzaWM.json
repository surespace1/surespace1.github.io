{"title":"音乐空间","date":"2025-12-11T00:12:59.000Z","date_formatted":{"ll":"2025年12月11日","L":"2025/12/11","MM-DD":"12-11"},"updated":"2025-12-12T02:39:16.925Z","content":"<style>\n  :root {\n    --bg-color: #ffffff;\n    --text-primary: #1d1d1f;\n    --text-secondary: #86868b;\n    --accent-gradient: linear-gradient(135deg, #007aff, #5856d6);\n    --vinyl-size: 260px;\n    --shadow-static: 0 10px 30px rgba(0,0,0,0.15);\n    --shadow-active: 0 25px 50px rgba(88, 86, 214, 0.35); /* 播放时的彩色投影 */\n  }\n\n  /* --- 容器：纯白极简 --- */\n  .music-page-container {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 60px 20px;\n    font-family: -apple-system, BlinkMacSystemFont, \"SF Pro Display\", \"Segoe UI\", Roboto, sans-serif;\n    max-width: 600px;\n    margin: 0 auto;\n    background-color: var(--bg-color);\n    /* 移除边框和背景色，融入页面 */\n  }\n\n  /* --- 1. 黑胶唱片 (超写实物理质感) --- */\n  .vinyl-wrapper {\n    position: relative;\n    width: var(--vinyl-size);\n    height: var(--vinyl-size);\n    margin-bottom: 50px;\n    cursor: pointer;\n    z-index: 10;\n    transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\n  }\n\n  .vinyl-wrapper:active {\n    transform: scale(0.97);\n  }\n\n  /* 唱片本体 */\n  .vinyl-disc {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background: #111;\n    /* 模拟黑胶的微细沟槽纹理 */\n    background-image: repeating-radial-gradient(\n      #111 0, \n      #111 2px, \n      #1a1a1a 3px, \n      #1a1a1a 4px\n    );\n    position: relative;\n    /* 默认状态的投影：干净、深邃 */\n    box-shadow: var(--shadow-static);\n    transition: box-shadow 0.6s ease;\n    animation: spin 8s linear infinite;\n    animation-play-state: paused;\n  }\n\n  /* 唱片的高光反射 (物理光泽) - 关键点 */\n  .vinyl-disc::before {\n    content: '';\n    position: absolute;\n    top: 0; left: 0; right: 0; bottom: 0;\n    border-radius: 50%;\n    /* 使用锥形渐变模拟各向异性反光 */\n    background: conic-gradient(\n      from 45deg,\n      rgba(255,255,255,0) 0%,\n      rgba(255,255,255,0.15) 20%,\n      rgba(255,255,255,0) 40%,\n      rgba(255,255,255,0) 50%,\n      rgba(255,255,255,0.1) 70%,\n      rgba(255,255,255,0) 90%\n    );\n    pointer-events: none;\n    z-index: 2;\n  }\n\n  /* 封面贴图区 */\n  .vinyl-disc::after {\n    content: '';\n    position: absolute;\n    top: 50%; left: 50%;\n    transform: translate(-50%, -50%);\n    width: 42%; height: 42%;\n    background: url('/music/cover.jpg') no-repeat center center;\n    background-size: cover;\n    border-radius: 50%;\n    /* 封面边缘的细节处理 */\n    border: 6px solid #1a1a1a;\n    box-shadow: inset 0 0 15px rgba(0,0,0,0.5); \n    z-index: 3;\n  }\n\n  /* 播放时的动态效果 */\n  .vinyl-disc.playing {\n    animation-play-state: running;\n    /* 播放时：阴影变大，且带有一点高级的蓝紫色漫射光 */\n    box-shadow: var(--shadow-active);\n  }\n\n  @keyframes spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n\n  /* --- 2. 控制区与排版 --- */\n  .controls-area {\n    width: 100%;\n    text-align: center;\n    position: relative;\n    z-index: 20;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  /* 动态可视化声波 */\n  .visualizer {\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    height: 24px;\n    gap: 5px;\n    margin-bottom: 20px;\n  }\n  \n  .bar {\n    width: 5px;\n    background: var(--text-secondary); /* 默认灰色 */\n    border-radius: 10px;\n    transition: all 0.3s;\n    height: 4px; /* 默认静止 */\n  }\n\n  /* 播放时的声波动画 */\n  .visualizer.active .bar {\n    /* 激活时变成炫酷渐变色 */\n    background: var(--accent-gradient);\n    animation: bounce 1s infinite ease-in-out;\n  }\n  .bar:nth-child(1) { animation-delay: 0.0s; }\n  .bar:nth-child(2) { animation-delay: 0.2s; }\n  .bar:nth-child(3) { animation-delay: 0.4s; }\n  .bar:nth-child(4) { animation-delay: 0.1s; }\n  .bar:nth-child(5) { animation-delay: 0.3s; }\n\n  @keyframes bounce {\n    0%, 100% { height: 6px; }\n    50% { height: 24px; }\n  }\n\n  /* 歌名设计 */\n  .song-title {\n    font-size: 2rem;\n    font-weight: 700;\n    color: var(--text-primary);\n    margin: 0 0 8px 0;\n    letter-spacing: -0.5px;\n    /* 简单的入场动画 */\n    transition: opacity 0.3s;\n  }\n  \n  .status-text {\n    font-size: 0.9rem;\n    color: var(--text-secondary);\n    margin-bottom: 40px;\n    font-weight: 500;\n    letter-spacing: 0.5px;\n    text-transform: uppercase;\n  }\n\n  /* 按钮组 */\n  .btn-group {\n    display: flex;\n    align-items: center;\n    gap: 30px;\n  }\n\n  /* 通用按钮样式 */\n  .btn {\n    border: none;\n    outline: none;\n    cursor: pointer;\n    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  /* 播放按钮 (圆形极简) */\n  .btn-play {\n    width: 64px;\n    height: 64px;\n    border-radius: 50%;\n    background: #f0f0f0;\n    color: var(--text-primary);\n    font-size: 1.2rem;\n    box-shadow: 0 5px 15px rgba(0,0,0,0.05);\n  }\n  .btn-play:hover {\n    background: #e5e5e5;\n    transform: scale(1.05);\n  }\n\n  /* 切歌按钮 (胶囊型，主色调) */\n  .btn-next {\n    padding: 14px 32px;\n    border-radius: 40px;\n    background: var(--text-primary); /* 深黑背景 */\n    color: #fff;\n    font-size: 1rem;\n    font-weight: 600;\n    box-shadow: 0 10px 20px rgba(0,0,0,0.15);\n  }\n  .btn-next:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 15px 30px rgba(0,0,0,0.25);\n    /* 悬停时出现微妙的彩色光晕 */\n    background: var(--accent-gradient);\n  }\n  .btn-next:active {\n    transform: scale(0.95);\n  }\n\n</style>\n<div class=\"music-page-container\">\n  <!-- 唱片 -->\n  <div class=\"vinyl-wrapper\" onclick=\"togglePlayState()\">\n    <div id=\"vinyl\" class=\"vinyl-disc\"></div>\n  </div>\n  <div class=\"controls-area\">\n    <!-- 极简声波 -->\n    <div id=\"visualizer\" class=\"visualizer\">\n      <div class=\"bar\"></div><div class=\"bar\"></div><div class=\"bar\"></div>\n      <div class=\"bar\"></div><div class=\"bar\"></div>\n    </div>\n    <!-- 信息 -->\n    <div id=\"song-title\" class=\"song-title\">Music Space</div>\n    <div id=\"status-text\" class=\"status-text\">Ready to play</div>\n    <!-- 按钮 -->\n    <div class=\"btn-group\">\n      <!-- 播放暂停 -->\n      <button class=\"btn btn-play\" onclick=\"togglePlayState()\" title=\"播放/暂停\">\n        <span id=\"play-icon\">▶</span>\n      </button>\n      <!-- 切歌 -->\n      <button class=\"btn btn-next\" onclick=\"nextRandomSong()\">\n        Random Track\n      </button>\n    </div>\n  </div>\n</div>\n<script>\n  // ================= 配置区域 =================\n  var myPlaylist = [\n    { title: \"FallinFlower\", url: \"/music/FallinFlower.mp3\" },\n    { title: \"遇见\", url: \"/music/遇见.mp3\" },\n    { title: \"温柔\", url: \"/music/温柔.mp3\" },\n    { title: \"我怀念的\", url: \"/music/我怀念的.mp3\" },\n  ];\n  // ===========================================\n\n  var audio = new Audio();\n  var vinyl = document.getElementById('vinyl');\n  var titleDom = document.getElementById('song-title');\n  var statusDom = document.getElementById('status-text');\n  var playIcon = document.getElementById('play-icon');\n  var vizDom = document.getElementById('visualizer');\n  \n  var isPlaying = false;\n  var currentIndex = -1;\n\n  function nextRandomSong() {\n    var randomIndex = Math.floor(Math.random() * myPlaylist.length);\n    if (myPlaylist.length > 1 && randomIndex === currentIndex) {\n      nextRandomSong();\n      return;\n    }\n    currentIndex = randomIndex;\n    var song = myPlaylist[currentIndex];\n\n    // 简单的文字淡入淡出效果\n    titleDom.style.opacity = 0;\n    setTimeout(() => {\n        titleDom.innerText = song.title;\n        titleDom.style.opacity = 1;\n    }, 200);\n\n    audio.src = song.url;\n    audio.load();\n    statusDom.innerText = \"Loading...\";\n    \n    tryPlay();\n  }\n\n  function tryPlay() {\n    var playPromise = audio.play();\n    if (playPromise !== undefined) {\n      playPromise.then(_ => { setPlayingUI(); })\n      .catch(error => {\n        console.warn(\"Autoplay blocked\");\n        setPausedUI();\n        statusDom.innerText = \"Click to Play\";\n      });\n    }\n  }\n\n  function togglePlayState() {\n    if (!audio.src) { nextRandomSong(); return; }\n    if (isPlaying) { audio.pause(); setPausedUI(); } \n    else { tryPlay(); }\n  }\n\n  function setPlayingUI() {\n    isPlaying = true;\n    vinyl.classList.add('playing');\n    vizDom.classList.add('active'); // 激活声波\n    playIcon.innerText = \"||\";\n    playIcon.style.marginLeft = \"0\"; // 修正暂停图标位置\n    statusDom.innerText = \"Now Playing\";\n    statusDom.style.color = \"#007aff\";\n  }\n\n  function setPausedUI() {\n    isPlaying = false;\n    vinyl.classList.remove('playing');\n    vizDom.classList.remove('active'); // 停止声波\n    playIcon.innerText = \"▶\";\n    playIcon.style.marginLeft = \"4px\"; // 修正播放图标视觉中心\n    statusDom.innerText = \"Paused\";\n    statusDom.style.color = \"#86868b\";\n  }\n\n  audio.addEventListener('ended', function() { nextRandomSong(); });\n\n  setTimeout(function() {\n    if (myPlaylist.length > 0) nextRandomSong();\n    else titleDom.innerText = \"Playlist Empty\";\n  }, 200);\n</script>","link":"music","plink":"http://example.com/music/","reward":true,"copyright":{"custom":"copyright：自由转载-非商用-禁止演绎-保持署名（CC BY-NC-ND 4.0）"}}